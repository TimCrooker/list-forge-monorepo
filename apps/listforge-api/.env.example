# ============================================
# ListForge API - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# Never commit .env to version control

# ============================================
# Application Configuration
# ============================================

# Port the API server will listen on
PORT=3001

# Node environment (development, production, test)
NODE_ENV=development

# Frontend URL for CORS and OAuth redirects
# Can be a single URL or comma-separated list
FRONTEND_URL=http://localhost:3000,http://localhost:5173

# ============================================
# Database Configuration (PostgreSQL)
# ============================================

# Option 1: Use a full database URL (recommended for production)
# Format: postgresql://user:password@host:5432/database
# DATABASE_URL=postgresql://user:password@host:5432/database

# Option 2: Use individual connection parameters (for development)
DB_HOST=localhost
DB_PORT=5432
DB_USER=listforge
DB_PASSWORD=listforge
DB_NAME=listforge_dev

# SSL configuration (for production databases like Supabase)
# DB_SSL=true
# DB_SSL_REJECT_UNAUTHORIZED=false

# ============================================
# Redis Configuration
# ============================================

# Option 1: Use a full Redis URL (recommended for production)
# Format: redis://[password@]host:port[/db]
# REDIS_URL=redis://localhost:6379

# Option 2: Use individual connection parameters (for development)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ============================================
# Authentication & Security
# ============================================

# JWT secret key for signing tokens (CHANGE IN PRODUCTION!)
# Generate a strong random string: openssl rand -base64 32
JWT_SECRET=dev-secret-change-in-production

# JWT token expiration time (e.g., 7d, 24h, 1h)
JWT_EXPIRES_IN=7d

# Secret key for encrypting OAuth state parameters
# Generate a strong random string: openssl rand -base64 32
OAUTH_STATE_SECRET=dev-oauth-state-secret-change-in-production

# Encryption key for storing marketplace credentials
# Must be exactly 32 characters (256 bits) for AES-256
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=00000000000000000000000000000000

# ============================================
# Storage Configuration
# ============================================

# Storage provider: 'vercel' or 'spaces' (default: vercel)
STORAGE_PROVIDER=vercel

# Vercel Blob Storage (when STORAGE_PROVIDER=vercel)
# Get from: https://vercel.com/dashboard/stores
BLOB_READ_WRITE_TOKEN=

# Digital Ocean Spaces (when STORAGE_PROVIDER=spaces)
# Get from: https://cloud.digitalocean.com/spaces
SPACES_KEY=
SPACES_SECRET=
SPACES_ENDPOINT=https://nyc3.digitaloceanspaces.com
SPACES_BUCKET=listforge-uploads

# ============================================
# AI/OpenAI Configuration
# ============================================

# OpenAI API key for AI workflow processing
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# OpenAI model to use (optional, defaults to gpt-4-vision-preview)
# OPENAI_MODEL=gpt-4-vision-preview

# ============================================
# eBay Marketplace Configuration
# ============================================

# eBay Application ID (App ID)
# Get from: https://developer.ebay.com/my/keys
EBAY_APP_ID=

# eBay Certificate ID (Client Secret)
EBAY_CERT_ID=

# eBay Developer ID (optional, for some API features)
# EBAY_DEV_ID=

# Use eBay Sandbox environment (true/false)
# Set to true for testing, false for production
EBAY_SANDBOX=true

# eBay OAuth redirect URI (optional, defaults to FRONTEND_URL + /settings/marketplaces/ebay/callback)
# EBAY_REDIRECT_URI=http://localhost:3000/settings/marketplaces/ebay/callback

# ============================================
# eBay Webhook Configuration
# ============================================

# Secret for verifying eBay webhook signatures
# Generate a strong random string: openssl rand -base64 32
EBAY_WEBHOOK_SECRET=

# Verification token for eBay webhook challenge
# Set this in your eBay developer console webhook settings
EBAY_VERIFICATION_TOKEN=

# Public endpoint URL where eBay webhooks will be sent
# Must be publicly accessible (use ngrok or similar for local dev)
# EBAY_WEBHOOK_ENDPOINT=https://your-domain.com/api/marketplaces/webhooks/ebay

# ============================================
# Logging & Monitoring (Optional)
# ============================================

# Enable detailed logging (true/false)
# LOG_LEVEL=debug

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=

# ============================================
# AWS S3 Storage Configuration
# ============================================

# Storage provider: 'vercel', 'spaces', or 's3' (default: vercel)
STORAGE_PROVIDER=s3

# AWS S3 (when STORAGE_PROVIDER=s3)
# Bucket name for file uploads
S3_BUCKET=listforge-uploads-1764905891
# AWS region (defaults to AWS_REGION if set)
S3_REGION=us-east-1
# AWS credentials are automatically detected from:
# - IAM role (when running on AWS)
# - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY env vars
# - ~/.aws/credentials file
